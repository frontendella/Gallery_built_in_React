{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ellaryukhina/Desktop/React /gallery/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ellaryukhina/Desktop/React /gallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ellaryukhina/Desktop/React /gallery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";export var useFetch=function useFetch(number,imageName){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var address=\"https://jsonplaceholder.typicode.com/albums/\".concat(number,\"/photos\");var path=\"https://api.lorem.space/image/\".concat(imageName,\"?w=150&h=220&hash=\");var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(address).then(function(res){return res.json();}).then(function(json){var data=json.map(function(elem){var imageUrl=\"\".concat(path).concat(elem.id);var newObject={id:elem.id,title:elem.title,image:imageUrl};return newObject;});return data;}).then(function(finalData){setError(undefined);setData(finalData);setLoading(false);}).catch(function(e){console.error(\"Errors: \",e);setError(e);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();},[address]);return{data:data};};","map":{"version":3,"names":["useState","useEffect","useFetch","number","imageName","data","setData","loading","setLoading","error","setError","address","path","fetchData","fetch","then","res","json","map","elem","imageUrl","id","newObject","title","image","finalData","undefined","catch","e","console"],"sources":["/Users/ellaryukhina/Desktop/React /gallery/src/components/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nexport const useFetch = (number, imageName) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const address = `https://jsonplaceholder.typicode.com/albums/${number}/photos`;\n  const path = `https://api.lorem.space/image/${imageName}?w=150&h=220&hash=`;\n\n  const fetchData = async () => {\n    setLoading(true);\n    await fetch(address)\n      .then((res) => res.json())\n      .then((json) => {\n        const data = json.map((elem) => {\n          const imageUrl = `${path}${elem.id}`;\n          const newObject = {\n            id: elem.id,\n            title: elem.title,\n            image: imageUrl,\n          };\n          return newObject;\n        });\n        return data;\n      })\n\n      .then((finalData) => {\n        setError(undefined);\n        setData(finalData);\n        setLoading(false);\n      })\n      .catch((e) => {\n        console.error(\"Errors: \", e);\n        setError(e);\n      });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [address]);\n\n  return { data };\n};\n"],"mappings":"gZAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,MAAD,CAASC,SAAT,CAAuB,CAC7C,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA8BN,QAAQ,CAAC,KAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA0BR,QAAQ,EAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEA,GAAMC,QAAO,uDAAkDR,MAAlD,WAAb,CACA,GAAMS,KAAI,yCAAoCR,SAApC,sBAAV,CAEA,GAAMS,UAAS,4FAAG,qIAChBL,UAAU,CAAC,IAAD,CAAV,CADgB,sBAEVM,MAAK,CAACH,OAAD,CAAL,CACHI,IADG,CACE,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EADF,EAEHF,IAFG,CAEE,SAACE,IAAD,CAAU,CACd,GAAMZ,KAAI,CAAGY,IAAI,CAACC,GAAL,CAAS,SAACC,IAAD,CAAU,CAC9B,GAAMC,SAAQ,WAAMR,IAAN,SAAaO,IAAI,CAACE,EAAlB,CAAd,CACA,GAAMC,UAAS,CAAG,CAChBD,EAAE,CAAEF,IAAI,CAACE,EADO,CAEhBE,KAAK,CAAEJ,IAAI,CAACI,KAFI,CAGhBC,KAAK,CAAEJ,QAHS,CAAlB,CAKA,MAAOE,UAAP,CACD,CARY,CAAb,CASA,MAAOjB,KAAP,CACD,CAbG,EAeHU,IAfG,CAeE,SAACU,SAAD,CAAe,CACnBf,QAAQ,CAACgB,SAAD,CAAR,CACApB,OAAO,CAACmB,SAAD,CAAP,CACAjB,UAAU,CAAC,KAAD,CAAV,CACD,CAnBG,EAoBHmB,KApBG,CAoBG,SAACC,CAAD,CAAO,CACZC,OAAO,CAACpB,KAAR,CAAc,UAAd,CAA0BmB,CAA1B,EACAlB,QAAQ,CAACkB,CAAD,CAAR,CACD,CAvBG,CAFU,uDAAH,kBAATf,UAAS,0CAAf,CA4BAZ,SAAS,CAAC,UAAM,CACdY,SAAS,GACV,CAFQ,CAEN,CAACF,OAAD,CAFM,CAAT,CAIA,MAAO,CAAEN,IAAI,CAAJA,IAAF,CAAP,CACD,CAzCM"},"metadata":{},"sourceType":"module"}