{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ellaryukhina/Desktop/React_gallery/Gallery_built_in_React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ellaryukhina/Desktop/React_gallery/Gallery_built_in_React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ellaryukhina/Desktop/React_gallery/Gallery_built_in_React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";export var useFetch=function useFetch(number,imageName){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var address=\"https://jsonplaceholder.typicode.com/albums/\".concat(number,\"/photos\");var path=\"https://api.lorem.space/image/\".concat(imageName,\"?w=150&h=220&hash=\");useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(address).then(function(res){return res.json();}).then(function(json){var data=json.map(function(elem){var imageUrl=\"\".concat(path).concat(elem.id);var newObject={id:elem.id,title:elem.title,image:imageUrl};return newObject;});return data;}).then(function(finalData){setData(finalData);}).catch(function(e){console.error(\"Errors: \",e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[address,path]);return{data:data};};","map":{"version":3,"names":["useState","useEffect","useFetch","number","imageName","data","setData","address","path","fetchData","fetch","then","res","json","map","elem","imageUrl","id","newObject","title","image","finalData","catch","e","console","error"],"sources":["/Users/ellaryukhina/Desktop/React_gallery/Gallery_built_in_React/src/components/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nexport const useFetch = (number, imageName) => {\n  const [data, setData] = useState([]);\n\n  const address = `https://jsonplaceholder.typicode.com/albums/${number}/photos`;\n  const path = `https://api.lorem.space/image/${imageName}?w=150&h=220&hash=`;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(address)\n        .then((res) => res.json())\n        .then((json) => {\n          const data = json.map((elem) => {\n            const imageUrl = `${path}${elem.id}`;\n            const newObject = {\n              id: elem.id,\n              title: elem.title,\n              image: imageUrl,\n            };\n            return newObject;\n          });\n          return data;\n        })\n\n        .then((finalData) => {\n          setData(finalData);\n        })\n        .catch((e) => {\n          console.error(\"Errors: \", e);\n        });\n    };\n    fetchData();\n  }, [address, path]);\n\n  return { data };\n};\n"],"mappings":"kdAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,MAAD,CAASC,SAAT,CAAuB,CAC7C,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eAEA,GAAMC,QAAO,uDAAkDJ,MAAlD,WAAb,CACA,GAAMK,KAAI,yCAAoCJ,SAApC,sBAAV,CAEAH,SAAS,CAAC,UAAM,CACd,GAAMQ,UAAS,4FAAG,2JACVC,MAAK,CAACH,OAAD,CAAL,CACHI,IADG,CACE,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EADF,EAEHF,IAFG,CAEE,SAACE,IAAD,CAAU,CACd,GAAMR,KAAI,CAAGQ,IAAI,CAACC,GAAL,CAAS,SAACC,IAAD,CAAU,CAC9B,GAAMC,SAAQ,WAAMR,IAAN,SAAaO,IAAI,CAACE,EAAlB,CAAd,CACA,GAAMC,UAAS,CAAG,CAChBD,EAAE,CAAEF,IAAI,CAACE,EADO,CAEhBE,KAAK,CAAEJ,IAAI,CAACI,KAFI,CAGhBC,KAAK,CAAEJ,QAHS,CAAlB,CAKA,MAAOE,UAAP,CACD,CARY,CAAb,CASA,MAAOb,KAAP,CACD,CAbG,EAeHM,IAfG,CAeE,SAACU,SAAD,CAAe,CACnBf,OAAO,CAACe,SAAD,CAAP,CACD,CAjBG,EAkBHC,KAlBG,CAkBG,SAACC,CAAD,CAAO,CACZC,OAAO,CAACC,KAAR,CAAc,UAAd,CAA0BF,CAA1B,EACD,CApBG,CADU,uDAAH,kBAATd,UAAS,0CAAf,CAuBAA,SAAS,GACV,CAzBQ,CAyBN,CAACF,OAAD,CAAUC,IAAV,CAzBM,CAAT,CA2BA,MAAO,CAAEH,IAAI,CAAJA,IAAF,CAAP,CACD,CAlCM"},"metadata":{},"sourceType":"module"}