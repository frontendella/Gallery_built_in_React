{"ast":null,"code":"import _slicedToArray from\"/Users/ellaryukhina/Desktop/React /gallery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useReducer}from\"react\";import AppReducer from\"./AppReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";export var initialState={favorites:localStorage.getItem(\"favorites\")?JSON.parse(localStorage.getItem(\"favorites\")):[]};export var FavoritesContext=/*#__PURE__*/createContext(initialState);export var FavoritesContextProvider=function FavoritesContextProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"favorites\",JSON.stringify(state.favorites));},[state]);function addFavoriteHandler(id){dispatch({type:\"ADD_ITEM_TO_FAVORITES\",payload:id});}function removeFavoriteHandler(id){dispatch({type:\"REMOVE_ITEM_FROM_FAVORITES\",payload:id});}return/*#__PURE__*/_jsx(FavoritesContext.Provider,{value:{favorites:state.favorites,addFavoriteHandler:addFavoriteHandler,removeFavoriteHandler:removeFavoriteHandler},children:props.children});};","map":{"version":3,"names":["createContext","useEffect","useReducer","AppReducer","initialState","favorites","localStorage","getItem","JSON","parse","FavoritesContext","FavoritesContextProvider","props","state","dispatch","setItem","stringify","addFavoriteHandler","id","type","payload","removeFavoriteHandler","children"],"sources":["/Users/ellaryukhina/Desktop/React /gallery/src/context/favorites-context.js"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\nimport AppReducer from \"./AppReducer\";\n\nexport const initialState = {\n  favorites: localStorage.getItem(\"favorites\")\n    ? JSON.parse(localStorage.getItem(\"favorites\"))\n    : [],\n};\n\nexport const FavoritesContext = createContext(initialState);\n\nexport const FavoritesContextProvider = (props) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    localStorage.setItem(\"favorites\", JSON.stringify(state.favorites));\n  }, [state]);\n\n  function addFavoriteHandler(id) {\n    dispatch({ type: \"ADD_ITEM_TO_FAVORITES\", payload: id });\n  }\n\n  function removeFavoriteHandler(id) {\n    dispatch({ type: \"REMOVE_ITEM_FROM_FAVORITES\", payload: id });\n  }\n\n  return (\n    <FavoritesContext.Provider\n      value={{\n        favorites: state.favorites,\n        addFavoriteHandler,\n        removeFavoriteHandler,\n      }}\n    >\n      {props.children}\n    </FavoritesContext.Provider>\n  );\n};\n"],"mappings":"gIAAA,OAASA,aAAT,CAAwBC,SAAxB,CAAmCC,UAAnC,KAAqD,OAArD,CACA,MAAOC,WAAP,KAAuB,cAAvB,C,2CAEA,MAAO,IAAMC,aAAY,CAAG,CAC1BC,SAAS,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,EACPC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADO,CAEP,EAHsB,CAArB,CAMP,MAAO,IAAMG,iBAAgB,cAAGV,aAAa,CAACI,YAAD,CAAtC,CAEP,MAAO,IAAMO,yBAAwB,CAAG,QAA3BA,yBAA2B,CAACC,KAAD,CAAW,CACjD,gBAA0BV,UAAU,CAACC,UAAD,CAAaC,YAAb,CAApC,4CAAOS,KAAP,iBAAcC,QAAd,iBAEAb,SAAS,CAAC,UAAM,CACdK,YAAY,CAACS,OAAb,CAAqB,WAArB,CAAkCP,IAAI,CAACQ,SAAL,CAAeH,KAAK,CAACR,SAArB,CAAlC,EACD,CAFQ,CAEN,CAACQ,KAAD,CAFM,CAAT,CAIA,QAASI,mBAAT,CAA4BC,EAA5B,CAAgC,CAC9BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,uBAAR,CAAiCC,OAAO,CAAEF,EAA1C,CAAD,CAAR,CACD,CAED,QAASG,sBAAT,CAA+BH,EAA/B,CAAmC,CACjCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,4BAAR,CAAsCC,OAAO,CAAEF,EAA/C,CAAD,CAAR,CACD,CAED,mBACE,KAAC,gBAAD,CAAkB,QAAlB,EACE,KAAK,CAAE,CACLb,SAAS,CAAEQ,KAAK,CAACR,SADZ,CAELY,kBAAkB,CAAlBA,kBAFK,CAGLI,qBAAqB,CAArBA,qBAHK,CADT,UAOGT,KAAK,CAACU,QAPT,EADF,CAWD,CA1BM"},"metadata":{},"sourceType":"module"}